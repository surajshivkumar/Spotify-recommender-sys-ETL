<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Music Player || Foremost Project</title>
    <link rel="stylesheet" href="../static/css/style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <link
      rel="icon"
      href="https://cdn.iconscout.com/icon/free/png-256/free-apple-music-3628628-3029853.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../static/css/styles.css" />
  </head>
  <body>
    <main style="position: relative">
      <nav class="main-menu">
        <div>
          <div class="user-info">
            <img
              src="https://img.freepik.com/premium-vector/vector-icon-girl-wearing-headphones_176841-6678.jpg"
              alt="user"
            />
            <p>Sharvari More</p>
          </div>
          <ul>
            <li class="nav-item active">
              <a href="#">
                <i class="fa fa-search nav-icon"></i>
                <span class="nav-text">Discover</span>
                <span class="tooltip">Browse</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="#artists-section">
                <i class="fa fa-guitar nav-icon"></i>
                <span class="nav-text">Artists</span>
                <span class="tooltip">Artists</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="#albums-section">
                <i class="fa fa-compact-disc nav-icon"></i>
                <span class="nav-text">Album</span>
                <span class="tooltip">Albums</span>
              </a>
            </li>

            <li class="nav-item">
              <a href="#chart-section">
                <i class="fa fa-chart-line"></i>
                <span class="nav-text">Chart</span>
                <span class="tooltip">Chart</span>
              </a>
            </li>

            <!-- <li class="nav-item">
              <a href="#">
                <i class="fa fa-heart nav-icon"></i>
                <span class="nav-text">Favorites</span>
              </a>
            </li> -->
          </ul>
        </div>
      </nav>

      <section class="content">
        <div class="left-content">
          <!-- <div class="slider-container">
            <h1>Popular Playlist</h1>
            <div class="swiper">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/95b52c32-f5da-4fe6-956d-a5ed118bbdd2" />
                  <div class="slide-overlay">
                    <h2>Midnight Moods</h2>
                    <button>
                      Listen Now <i class="fa-solid fa-circle-play"></i>
                    </button>
                  </div>
                </div>
                <div class="swiper-slide">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/6ddf81f5-2689-4f34-bf80-a1e07f14621c" />
                  <div class="slide-overlay">
                    <h2>Party Starters</h2>
                    <button>
                      Listen Now <i class="fa-solid fa-circle-play"></i>
                    </button>
                  </div>
                </div>
                <div class="swiper-slide">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/ab52d9d0-308e-43e0-a577-dce35fedd2a3" />
                  <div class="slide-overlay">
                    <h2>Relaxing Tones</h2>
                    <button>
                      Listen Now <i class="fa-solid fa-circle-play"></i>
                    </button>
                  </div>
                </div>
                <div class="swiper-slide">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/20c8fdd5-9f4a-4917-ae90-0239a52e8334" />
                  <div class="slide-overlay">
                    <h2>Smooth Jazz Journey</h2>
                    <button>
                      Listen Now <i class="fa-solid fa-circle-play"></i>
                    </button>
                  </div>
                </div>
                <div class="swiper-slide">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/df461a99-2fb3-4d55-ac16-2e0c6dd783e1" />
                  <div class="slide-overlay">
                    <h2>Uplifting Rhythms</h2>
                    <button>
                      Listen Now <i class="fa-solid fa-circle-play"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div> -->

          <div class="artists" id="artists-section">
            <h1>Featured Artists</h1>
            <div class="artist-container containers">
              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/c8feaa0f-6ae7-4c69-bb7d-4a11de76b4f5"
                  alt=""
                />
                <p>Taylor Swift</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/bf80314e-5a02-4702-bb64-eae8c113c417"
                  alt=""
                />
                <p>The Weeknd</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/e4576af8-0e84-4343-8f90-7a01acb9c8b7"
                  alt=""
                />
                <p>Dua Lipa</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/d8eb2888-1e74-4117-82d7-833ad29e3cc1"
                  alt=""
                />
                <p>Jimin</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/f23adc16-11d7-41dc-af6a-191e03a81603"
                  alt=""
                />
                <p>Alicia Keys</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/f511c102-3217-4bea-bede-8be23b969bd8"
                  alt=""
                />
                <p>Maroon 5</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/9a8bd237-b525-43e6-a37c-daaac39db8ce"
                  alt=""
                />
                <p>Imagine Dragons</p>
              </div>

              <div class="artist">
                <img
                  src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/99452c85-26f4-4ccd-b439-7d1bd3875634"
                  alt=""
                />
                <p>Billie Eilish</p>
              </div>
            </div>
          </div>

          <div class="albums" id="albums-section">
            <h1>Recommended Albums</h1>
            <div class="album-container containers">
              <div class="album">
                <div class="album-frame">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/74c4f0f9-d73e-4737-83fa-ea4afe392229"
                    alt=""
                  />
                </div>
                <div>
                  <h2>Views</h2>
                  <p>Drake</p>
                </div>
              </div>

              <div class="album">
                <div class="album-frame">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/d3a0bac0-fdb4-467e-bdf5-f3f415928f24"
                    alt=""
                  />
                </div>
                <div>
                  <h2>Speak Now</h2>
                  <p>Taylor Swift</p>
                </div>
              </div>

              <div class="album">
                <div class="album-frame">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/85521a12-cc46-4b9f-a742-21ba407ebd5e"
                    alt=""
                  />
                </div>
                <div>
                  <h2>Born to Die</h2>
                  <p>Lana Del Rey</p>
                </div>
              </div>

              <div class="album">
                <div class="album-frame">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/4e7bf466-7fa5-4dad-b628-5bca12833b64"
                    alt=""
                  />
                </div>
                <div>
                  <h2>Endless Summer Vacation</h2>
                  <p>Miley Cyrus</p>
                </div>
              </div>

              <div class="album">
                <div class="album-frame">
                  <img
                    src="https://github.com/ecemgo/mini-samples-great-tricks/assets/13468728/f01f546a-7ab7-4e90-acb9-1c1e817b676d"
                    alt=""
                  />
                </div>
                <div>
                  <h2>The Dark Side of The Moon</h2>
                  <p>Pink Floyd</p>
                </div>
              </div>
            </div>
          </div>

          <div class="Chart" id="chart-section">
            <h1></h1>
          </div>
        </div>

        <div class="right-content">
          <div class="recommended-songs">
            <h1>Recommended Songs</h1>
            <div class="song-container">
              {% for song in results %}
              <div class="song">
                <div class="song-img">
                  <img src="{{song.imgUrl}}" alt="" />
                  <div class="overlay">
                    <i class="fa-solid fa-play" id="volumePlayPause"></i>
                  </div>
                </div>
                <div class="song-title">
                  <h2>{{song.name}}</h2>
                  <p>{{song.artistName}}</p>
                </div>
                <span>{{song.timeStamp}}</span>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </section>

      <div
        style="
          position: absolute;
          bottom: 0;
          background: #065f46;
          color: white;
          width: 100%;
          z-index: 50;
        "
      >
        <div class="music-player">
          <div style="display: flex; gap: 1rem">
            <div class="album-cover">
              <img src="images/album-cover.png" id="rotatingImage" alt="" />
              <span class="point"></span>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                justify-content: center;
              "
            >
              <h2>Redemption</h2>
              <p>Besomorph & Coopex</p>
            </div>
          </div>

          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 0.5rem;
              justify-content: center;
            "
          >
            <div class="controls">
              <button class="backward">
                <i class="fa-solid fa-backward"></i>
              </button>
              <button class="play-pause-btn">
                <i class="fa-solid fa-play" id="controlIcon"></i>
              </button>
              <button class="forward">
                <i class="fa-solid fa-forward"></i>
              </button>
            </div>

            <div style="display: flex; justify-content: center">
              <audio id="song">
                <source
                  src="Besomorph-Coopex-Redemption.mp3"
                  type="audio/mpeg"
                />
              </audio>
              <input type="range" value="0" id="progress" />
            </div>
          </div>

          <div
            style="
              display: flex;
              justify-content: center;
              align-items: center;
              gap: 0.5rem;
            "
          >
            <i
              id="toggleVolume"
              class="fa-solid fa-volume-low"
              style="color: white"
              onclick="toggleVolume()"
            ></i>
            <input type="range" value="100" id="volumeSlider" />
          </div>
        </div>
      </div>
    </main>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="../static/js/script.js"></script>
    <script>
          let flaskData = {{ results|tojson }};

          const audio = document.getElementById('song');
          audio.play();
          // if (audio.paused) {
          // }
          const volumeSlider = document.getElementById('volumeSlider');
          const toggleVolumeIcon = document.getElementById("toggleVolume")
          audio.volume = volumeSlider.value / 100;
          volumeSlider.addEventListener('#volumeSlider', function() {
            audio.volume = volumeSlider.value / 100;
          });

          let previousVolume = 1; // Store the previous volume
          function toggleVolume() {
      if (audio.volume !== 0) {
        // If not muted, save the current volume and set volume to 0 (mute)
        previousVolume = audio.volume;
        audio.volume = 0;
        volumeSlider.value = 0;
        // muteButton.textContent = 'Unmute';
      } else {
        // If muted, restore the previous volume
        audio.volume = previousVolume;
        volumeSlider.value = 100;
        // muteButton.textContent = 'Mute';
      }
      toggleVolumeIcon.classList.toggle('fa-volume-low');
      toggleVolumeIcon.classList.toggle('fa-volume-xmark');
      }
    </script>
  </body>
</html>
